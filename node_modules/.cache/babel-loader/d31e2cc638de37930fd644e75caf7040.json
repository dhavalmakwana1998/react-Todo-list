{"ast":null,"code":"import _toConsumableArray from\"E:/React Practical/TODO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"E:/React Practical/TODO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:/React Practical/TODO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect,useRef}from\"react\";import\"./App.css\";import\"bootstrap/dist/css/bootstrap.min.css\";import Loader from\"./Loader\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getData=function getData(){var data=localStorage.getItem(\"todoData\");// console.log(JSON.parse(data));\nif(data){return JSON.parse(localStorage.getItem(\"todoData\"));}else{return[];}};var getDoneData=function getDoneData(){var data=localStorage.getItem(\"todoDoneData\");// console.log(JSON.parse(data));\nif(data){return JSON.parse(localStorage.getItem(\"todoDoneData\"));}else{return[];}};function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),inputData=_useState2[0],setInputData=_useState2[1];var _useState3=useState(getData()),_useState4=_slicedToArray(_useState3,2),todo=_useState4[0],setTodo=_useState4[1];var _useState5=useState(getDoneData()),_useState6=_slicedToArray(_useState5,2),complete=_useState6[0],setComplete=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isEdit=_useState8[0],setIsEdit=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),editTodo=_useState12[0],setEditTodo=_useState12[1];var inputref=useRef(null);useEffect(function(){setTimeout(function(){setLoading(false);},1500);},[]);function addTodo(){if(!inputData||!inputData.trim()){toast.error(\"please add input\",{position:\"top-center\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});inputref.current.focus();inputref.current.style.borderColor=\"red\";setInputData(\"\");}else if(inputData&&isEdit){setTodo(todo.map(function(elem){if(elem.id===editTodo){return _objectSpread(_objectSpread({},elem),{},{task:inputData});// console.log(...elem);\n}return elem;}));toast.warning(\"Task update successfully!\",{position:\"top-center\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setInputData(\"\");setIsEdit(false);setEditTodo(null);}else{var allInput={id:new Date().getTime().toString(),task:inputData};setTodo([].concat(_toConsumableArray(todo),[allInput]));setInputData(\"\");toast.success(\"Task added successfully!\",{position:\"top-center\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}}function removeAll(){setInputData(\"\");setIsEdit(false);if(todo.length<=0){alert(\"All Read\");}else{setTodo([]);setComplete([].concat(_toConsumableArray(complete),_toConsumableArray(todo)));}}function editItem(id){setInputData(\"\");setIsEdit(true);var editItem=todo.find(function(elem){return id===elem.id;});setInputData(editItem.task);setEditTodo(id);}function removeItem(id){setInputData(\"\");setIsEdit(false);var addtoDone=todo.find(function(elem){return id===elem.id;});setComplete([].concat(_toConsumableArray(complete),[addtoDone]));var newData=todo.filter(function(elem){return id!==elem.id;});setTodo(newData);toast.info(\"Task move to complete!\",{position:\"top-center\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}function removeCompleteItem(id){setInputData(\"\");setIsEdit(false);var newcData=complete.filter(function(elem){return elem.id!==id;});setComplete(newcData);var addtoDo=complete.find(function(elem){return elem.id===id;});setTodo([].concat(_toConsumableArray(todo),[addtoDo]));}useEffect(function(){localStorage.setItem(\"todoData\",JSON.stringify(todo));localStorage.setItem(\"todoDoneData\",JSON.stringify(complete));},[todo,complete]);if(loading){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card todolist not-done\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Todos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{ref:inputref,type:\"text\",className:\"form-control add-todo\",placeholder:\"Add todo\",value:inputData,onChange:function onChange(e){return setInputData(e.target.value);},style:{boxShadow:\"none\",borderWidth:\"1.5px\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"span\",{className:\"\",children:isEdit?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning rounded-0\",onClick:addTodo,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-edit\"})}):/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success rounded-0\",onClick:addTodo,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus\"})})})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:removeAll,className:\"btn btn-outline-success\",children:\"Mark all as done\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"ul\",{id:\"sortable\",className:\"list-unstyled\",children:!todo.length?/*#__PURE__*/_jsx(\"h5\",{className:\"bg-warning text-center\",children:\"No data found\"}):todo.map(function(item){return/*#__PURE__*/_jsx(\"li\",{className:\"ui-state-default my-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"font-weight-bold checkbox d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:item.task}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return editItem(item.id);},className:\"mr-3 fa fa-edit text-dark p-2 rounded bg-warning fa-md\"}),/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return removeItem(item.id);},className:\"fa fa-trash text-light p-2 rounded bg-danger fa-md\"})]})]})},item.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"todo-footer\",children:[/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"count-todos\",children:[todo.length,\" \"]})}),\"Items Left\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 p-4 my-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 stodolist\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Already Done\"}),/*#__PURE__*/_jsx(\"ul\",{id:\"done-items\",className:\"list-unstyled\",children:!complete.length?/*#__PURE__*/_jsx(\"h5\",{className:\"bg-warning text-center\",children:\"No data found\"}):complete.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"d-flex justify-content-between\",children:[item.task,/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success btn-sm py-0 my-0\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-remove\",onClick:function onClick(){return removeCompleteItem(item.id);}})})]},item.id);})})]})})]})})]});}export default App;","map":{"version":3,"sources":["E:/React Practical/TODO/src/App.js"],"names":["useState","useEffect","useRef","Loader","ToastContainer","toast","getData","data","localStorage","getItem","JSON","parse","getDoneData","App","inputData","setInputData","todo","setTodo","complete","setComplete","isEdit","setIsEdit","loading","setLoading","editTodo","setEditTodo","inputref","setTimeout","addTodo","trim","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","current","focus","style","borderColor","map","elem","id","task","warning","allInput","Date","getTime","toString","success","removeAll","length","alert","editItem","find","removeItem","addtoDone","newData","filter","info","removeCompleteItem","newcData","addtoDo","setItem","stringify","e","target","value","boxShadow","borderWidth","item"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport \"./App.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport Loader from \"./Loader\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst getData = () => {\r\n  let data = localStorage.getItem(\"todoData\");\r\n  // console.log(JSON.parse(data));\r\n  if (data) {\r\n    return JSON.parse(localStorage.getItem(\"todoData\"));\r\n  } else {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst getDoneData = () => {\r\n  let data = localStorage.getItem(\"todoDoneData\");\r\n  // console.log(JSON.parse(data));\r\n  if (data) {\r\n    return JSON.parse(localStorage.getItem(\"todoDoneData\"));\r\n  } else {\r\n    return [];\r\n  }\r\n};\r\n\r\nfunction App() {\r\n  const [inputData, setInputData] = useState(\"\");\r\n  const [todo, setTodo] = useState(getData());\r\n  const [complete, setComplete] = useState(getDoneData());\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editTodo, setEditTodo] = useState(null);\r\n  const inputref = useRef(null);\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 1500);\r\n  }, []);\r\n\r\n  function addTodo() {\r\n    if (!inputData || !inputData.trim()) {\r\n      toast.error(\"please add input\", {\r\n        position: \"top-center\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      inputref.current.focus();\r\n      inputref.current.style.borderColor = \"red\";\r\n      setInputData(\"\");\r\n    } else if (inputData && isEdit) {\r\n      setTodo(\r\n        todo.map((elem) => {\r\n          if (elem.id === editTodo) {\r\n            return { ...elem, task: inputData };\r\n            // console.log(...elem);\r\n          }\r\n          return elem;\r\n        })\r\n      );\r\n      toast.warning(\"Task update successfully!\", {\r\n        position: \"top-center\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      setInputData(\"\");\r\n      setIsEdit(false);\r\n      setEditTodo(null);\r\n    } else {\r\n      const allInput = { id: new Date().getTime().toString(), task: inputData };\r\n      setTodo([...todo, allInput]);\r\n      setInputData(\"\");\r\n      toast.success(\"Task added successfully!\", {\r\n        position: \"top-center\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n    }\r\n  }\r\n\r\n  function removeAll() {\r\n    setInputData(\"\");\r\n    setIsEdit(false);\r\n    if (todo.length <= 0) {\r\n      alert(\"All Read\");\r\n    } else {\r\n      setTodo([]);\r\n      setComplete([...complete, ...todo]);\r\n    }\r\n  }\r\n\r\n  function editItem(id) {\r\n    setInputData(\"\");\r\n    setIsEdit(true);\r\n    const editItem = todo.find((elem) => {\r\n      return id === elem.id;\r\n    });\r\n    setInputData(editItem.task);\r\n    setEditTodo(id);\r\n  }\r\n\r\n  function removeItem(id) {\r\n    setInputData(\"\");\r\n    setIsEdit(false);\r\n    const addtoDone = todo.find((elem) => {\r\n      return id === elem.id;\r\n    });\r\n    setComplete([...complete, addtoDone]);\r\n\r\n    const newData = todo.filter((elem) => {\r\n      return id !== elem.id;\r\n    });\r\n    setTodo(newData);\r\n    toast.info(\"Task move to complete!\", {\r\n      position: \"top-center\",\r\n      autoClose: 5000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n  }\r\n\r\n  function removeCompleteItem(id) {\r\n    setInputData(\"\");\r\n    setIsEdit(false);\r\n    const newcData = complete.filter((elem) => {\r\n      return elem.id !== id;\r\n    });\r\n    setComplete(newcData);\r\n\r\n    const addtoDo = complete.find((elem) => {\r\n      return elem.id === id;\r\n    });\r\n    setTodo([...todo, addtoDo]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"todoData\", JSON.stringify(todo));\r\n    localStorage.setItem(\"todoDoneData\", JSON.stringify(complete));\r\n  }, [todo, complete]);\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <ToastContainer />\r\n      <div className=\"container\">\r\n        {/* <div className=\"my-4 py-2 my-alert\">\r\n          {isAlert && <Alert type={1} />}\r\n        </div> */}\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            <div className=\"card todolist not-done\">\r\n              <h1>Todos</h1>\r\n              <div className=\"input-group mb-3\">\r\n                <input\r\n                  ref={inputref}\r\n                  type=\"text\"\r\n                  className=\"form-control add-todo\"\r\n                  placeholder=\"Add todo\"\r\n                  value={inputData}\r\n                  onChange={(e) => setInputData(e.target.value)}\r\n                  style={{ boxShadow: \"none\", borderWidth: \"1.5px\" }}\r\n                />\r\n                <div className=\"input-group-append\">\r\n                  <span className=\"\">\r\n                    {isEdit ? (\r\n                      <button\r\n                        className=\"btn btn-warning rounded-0\"\r\n                        onClick={addTodo}\r\n                      >\r\n                        <i className=\"fa fa-edit\"></i>\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        className=\"btn btn-success rounded-0\"\r\n                        onClick={addTodo}\r\n                      >\r\n                        <i className=\"fa fa-plus\"></i>\r\n                      </button>\r\n                    )}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <button onClick={removeAll} className=\"btn btn-outline-success\">\r\n                Mark all as done\r\n              </button>\r\n\r\n              <hr />\r\n              <ul id=\"sortable\" className=\"list-unstyled\">\r\n                {!todo.length ? (\r\n                  <h5 className=\"bg-warning text-center\">No data found</h5>\r\n                ) : (\r\n                  todo.map((item) => {\r\n                    return (\r\n                      <li className=\"ui-state-default my-1\" key={item.id}>\r\n                        <div className=\"font-weight-bold checkbox d-flex justify-content-between\">\r\n                          <div>{item.task}</div>\r\n                          <div>\r\n                            <i\r\n                              onClick={() => editItem(item.id)}\r\n                              className=\"mr-3 fa fa-edit text-dark p-2 rounded bg-warning fa-md\"\r\n                            ></i>\r\n                            <i\r\n                              onClick={() => removeItem(item.id)}\r\n                              className=\"fa fa-trash text-light p-2 rounded bg-danger fa-md\"\r\n                            ></i>\r\n                          </div>\r\n                        </div>\r\n                      </li>\r\n                    );\r\n                  })\r\n                )}\r\n              </ul>\r\n              <div className=\"todo-footer\">\r\n                <strong>\r\n                  <span className=\"count-todos\">{todo.length} </span>\r\n                </strong>\r\n                Items Left\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-6 p-4 my-2\">\r\n            <div className=\"card p-4 stodolist\">\r\n              <h1>Already Done</h1>\r\n              <ul id=\"done-items\" className=\"list-unstyled\">\r\n                {!complete.length ? (\r\n                  <h5 className=\"bg-warning text-center\">No data found</h5>\r\n                ) : (\r\n                  complete.map((item) => {\r\n                    return (\r\n                      <li\r\n                        className=\"d-flex justify-content-between\"\r\n                        key={item.id}\r\n                      >\r\n                        {item.task}\r\n                        <button className=\"btn btn-outline-success btn-sm py-0 my-0\">\r\n                          <i\r\n                            className=\"fa fa-remove\"\r\n                            onClick={() => removeCompleteItem(item.id)}\r\n                          ></i>\r\n                        </button>\r\n                      </li>\r\n                    );\r\n                  })\r\n                )}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}